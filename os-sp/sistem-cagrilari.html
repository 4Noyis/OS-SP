<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Sistem Çağrıları</title>
<link rel="stylesheet" href="style/styles.css">

</head><body><article id="109da5a7-18f6-8076-914c-e8733567dfaf" class="page sans"><header><h1 class="page-title">Sistem Çağrıları</h1><p class="page-description"></p></header><div class="page-body"><p id="109da5a7-18f6-80d5-9720-d8a193fb64e2" class="">Kullanıcı ile işletim sistemleri arasındaki arayüz işletim sistemleri tarafından desteklenen genişletilmiş komut setiyle sağlanır Bu komut setine<em> sistem çağrıları</em> denir.</p><p id="109da5a7-18f6-807f-a23a-e0033dabff85" class="">İşletim sistemlerinde komutların yürütüldüğü iki farklı uzay bulunur: İlki kullanıcı uzayı(user space), diğeri ise çekirdek uzayı(kernel space)dır.</p><p id="4d8f61a7-2072-4627-a4a2-d82aeb2d64a5" class="">Sistem çağrıları veya bu çağrılara ulaşan komutlar dışındaki tüm komutlar kullanıcı uzayında yürütülür.</p><p id="109da5a7-18f6-8050-97ec-c817696ee6d6" class="">Kullanıcı, kullanıcı modunda bir komut işleyeceği zaman bunun işletim sistemi tarafından çekirdek(kernel) modunda yapılması sistem çağrısıyla mümkün olur. Kullanıcı modundan bir sistem çağrısı yapıldığında çekirdek uzayına geçilir ve çağrı bu uzayda yürütülür. Sistem çağrısının yürütülmesinin ardından kullanıcı uzayına geri döndürülür. Çekirdekteki bu yürütme işlemine geçişe tuzak(trap) denilmektedir.</p><figure id="109da5a7-18f6-8032-959f-c5c7455d2485" class="image"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_14.31.56.png"><img style="width:708px" src="sistem-cagrilari/Screenshot_2024-09-17_at_14.31.56.png"/></a></figure><p id="109da5a7-18f6-80b7-8019-f5885e73eff8" class="">Sistem çağrıları en temel anlamda, proses ve iplik yönetimi, sinyalleşme, dosya ve dizin yönetimi, güvenlik ve zaman yönetimi çağrıları olarak sınıflandırılabilir. </p><h1 id="109da5a7-18f6-804c-b827-d78a91ce77f0" class="">Process ve Thread Yönetim Çağrıları</h1><p id="109da5a7-18f6-80fe-a6d0-f754fcae9bc4" class="">Bu çağrılar proses ve iplik oluşturma, bekleme, sonlandırma, yürütme, ayarlama, bilgi alma ve hata ayıklamayı sağlayan çağrılardır.</p><h2 id="109da5a7-18f6-807d-8774-d71e2a55a514" class="">Yeni Process Oluşturma Çağrıları</h2><p id="109da5a7-18f6-802e-92c4-e67c5fab7a71" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı</strong></mark><strong>: fork()</strong></p><p id="109da5a7-18f6-8059-a0fa-c8261cfd1ca5" class=""><mark class="highlight-teal"><strong>başlık dosyaları:</strong></mark><strong> &lt;sys/types.h&gt; &lt;unistd.h&gt;</strong></p><p id="109da5a7-18f6-801b-9e61-fc2d18f84c4c" class="">Oluşan process çocuk, oluşturan process annedir. Bu çağrı kullanıldığında anne processin birebir kopyası olan bir çok process oluşur. her ikisi de fork() çağrısından sonraki işlemi yapmaya çalışır.</p><p id="fdab7a02-2581-4df3-af0c-acbe24aea649" class="">fork() çağrısı çocuk process’e 0, anne process’e ise çocuk process’in tanımlayıcı numarasıyla döner. Böylece hangi processin anne hangisinin çocuk olduğu belirlenir. Daha sonra çocuk ve anne process kendi ayrı işlevlerini yapabilirler.<div class="indented"><p id="8b0d4ca5-75e3-4df3-8495-71aada60d08e" class="">fork() Çağrısı ile process oluşturma</p><figure id="60d316ad-4b92-4e1e-bf6b-ddd18dfb1600" class="image"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_15.43.33.png"><img style="width:528px" src="sistem-cagrilari/Screenshot_2024-09-17_at_15.43.33.png"/></a></figure></div></p><p id="109da5a7-18f6-8059-9281-d390ae756e92" class="">fork() çağrısı haricinde clone() çağrısı ile de yeni process oluşturulabilir</p><p id="109da5a7-18f6-80b7-89be-e7a2bfe6db83" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı:</strong></mark><strong> clone()</strong></p><p id="109da5a7-18f6-80a6-a593-dfae06293d37" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları:</strong></mark><strong> &lt;sched.h&gt;</strong></p><p id="109da5a7-18f6-801a-8962-e9996bc01d9e" class="">Fork çağrısından en önemki farkı oluşan anne çocuk hiyerarşisine ilaveten ikiz kardeş hiyerarşisinde de oluşturulabilmesidir.</p><h2 id="c0de876d-aab2-488d-8dea-e9160ca0b75a" class="">Yeni Thread Oluşturma Çağrıları</h2><p id="109da5a7-18f6-80a5-a56f-d9b05a3b98a6" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı:</strong></mark><strong> pthread_create(pthread_t </strong><em><strong>iplik, const pthread_attr_t ozellik, void* fonksiyon, void *args</strong></em><strong>)</strong></p><p id="f52553a3-047a-42e1-9618-96f79315ac23" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları: </strong></mark><strong>&lt;pthread.h&gt;</strong></p><p id="109da5a7-18f6-803b-8dc6-eadd3c840c1f" class="">İlk parametresi pthread_t tipinde bir iplik değişkenidir.</p><p id="109da5a7-18f6-80da-a59f-f61082dd6705" class="">ikinci parametresi özelliklerdir ve NULL olarak bırakılabilir.</p><p id="109da5a7-18f6-808c-ac6f-fcab79d1d64a" class="">üçüncü parametresi ipliğin çalıştıracağı fonksiyonu belirten işaretçidir.</p><p id="109da5a7-18f6-80d3-b23e-fd56da468e59" class="">dördüncü parametre ipliğe gönderilecek parametrelerdir.</p><p id="109da5a7-18f6-80ce-a2c6-de8eea7970cb" class="">Not: Derleme aşamasında -pthread opsiyonunun belirtilmesi gerekir.<div class="indented"><p id="dc5b73b4-c2c9-4ad9-a1a1-ada19c74f7e6" class="">Mevcut process’e yeni thread ekleyen C programı</p><figure id="49f041ea-1299-4e03-8a50-0161747b257c" class="image"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_16.08.04.png"><img style="width:528px" src="sistem-cagrilari/Screenshot_2024-09-17_at_16.08.04.png"/></a></figure></div></p><h2 id="109da5a7-18f6-802e-a14f-fcc6a7b6e9b8" class="">Bekleme ve Sonlanma Çağrıları</h2><h3 id="109da5a7-18f6-80a1-802b-da12ae19b4af" class="">Proseslerin Bekleme ve Sonlanma Çağrıları</h3><p id="109da5a7-18f6-80e5-9868-e08a7ddefad0" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı:</strong></mark><strong> (1) waitpid(pid_t pid, int *durum, int secenekler) | (2) exit(int durum)</strong></p><p id="109da5a7-18f6-80b3-b3f1-f78f44af9acc" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları:</strong></mark><strong> &lt;sys/types.h&gt; &lt;sys/wait.h&gt; &lt;stdlib.h&gt;</strong></p><p id="109da5a7-18f6-8042-af24-ff606b07e965" class="">(1) waitpid() çağrısı ile istenen bir çocuk processe özel veya çok çocuklu bir yapı için herhangi bir çocuk processin bitişi beklenebilir. </p><p id="cf872b3b-13d6-47f3-8c92-a294091dc11b" class="">ilk parametre eğer belirli bir processin bitişi beklenecekse onun pid değeri girilebilir. Herhangi bir çocuk prosesin sonlanması beklenecekse -1 değeri girilir. </p><p id="d9716710-2d1a-4a2b-8ee6-2a0090187745" class="">ikinci parametre beklenen proses sonlandığında adres değişkeni alan bu kısmım sonlanan çocuk prosesin çıkış değerini alır.<div class="indented"><p id="751d0a0d-e2f0-4d21-bbb1-04c67d829c3a" class="">Bir anne ve çocuk proses oluşturuluyor anne proses çocuk prosesin sonlanmasını waitpid() çaprısı ile bekliyor</p><figure id="76c34ccb-28fb-459f-b3a4-9c8a794aab95" class="image" style="text-align:left"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_16.39.47.png"><img style="width:528px" src="sistem-cagrilari/Screenshot_2024-09-17_at_16.39.47.png"/></a></figure></div></p><p id="109da5a7-18f6-80af-938d-f574876e0447" class="">(2) exit(int durum) sistem çağrısı çalışan proses bitiminde kullanılır. </p><h3 id="709e58f1-fc11-49e6-aef4-d7ddb0d7d009" class="">Threadlerin Bekleme ve Sonlanma Çağrıları</h3><p id="2d478f2e-fc06-469c-88c9-b56c6a1d67ab" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı:</strong></mark><strong> pthread_join()</strong></p><p id="109da5a7-18f6-8069-8550-fdee0d0e17ab" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları:</strong></mark><strong> &lt;pthread.h&gt;</strong></p><h2 id="109da5a7-18f6-80c2-b4d7-c7287cd41763" class="">Yürütme(Execute) Çağrıları</h2><p id="109da5a7-18f6-806d-b98a-cda95d17d366" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı: </strong></mark><mark class="highlight-default"><strong>exec() grubu çağrıları </strong></mark></p><p id="109da5a7-18f6-8014-a40c-e0bc09508ee3" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları: </strong></mark><mark class="highlight-default"><strong>&lt;unistd.h&gt;</strong></mark></p><p id="da5c9598-9fac-4feb-86d3-55ad26ad6f8e" class="">Yürütme çağrılarının işlevleri bir komutu çalıştırmaktır.</p><p id="564b025c-cc4a-45fe-aeab-e1238c14618c" class="">“l”: İlavesi, exec()’teki parametreleri doğrudan gönderir. execl() komutu, exec() komutu ile virelen parametreyi <span style="border-bottom:0.05em solid">bulunduğu dizinde</span> veya <span style="border-bottom:0.05em solid">sağlanan tam adreste</span> arar.</p><p id="109da5a7-18f6-80ab-9b0e-fa8031875476" class="">“v”: argüman dizisinin üyesi olarak komutu gönderir.</p><ol type="1" id="109da5a7-18f6-8042-840b-f2208e5465a9" class="numbered-list" start="1"><li><strong>execl(const char *yol, const char *arg, …)</strong></li></ol><p id="109da5a7-18f6-80ca-b0af-c4fad2d057c7" class="">Aynı dizindeki merhaba.c programının çalıştırılabilir hali olan merhaba dosyasını çalıştıran C kodu</p><div id="109da5a7-18f6-806d-8847-f9570725430d" class="column-list"><div id="964bd2a4-0520-4431-8f06-89cb4f5a7c95" style="width:50%" class="column"><figure id="739f62bd-1af2-4983-bbbc-02a6b33d0b63" class="image"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.22.24.png"><img style="width:331px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.22.24.png"/></a></figure></div><div id="8dc133d7-18db-4e8a-80df-1a9dbb9f7ba8" style="width:50%" class="column"><figure id="5f8abc32-09f8-41e7-bcc3-37bc83e9adeb" class="image"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.20.12.png"><img style="width:331px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.20.12.png"/></a></figure></div></div><ol type="1" id="109da5a7-18f6-80e6-a4fe-f2cf018e4ac2" class="numbered-list" start="2"><li><strong>execlp(const char *yol, const char *arg, …):</strong> PATH ortam değişkenini kullanarak komutu bulur ve yürütür</li></ol><figure id="109da5a7-18f6-80e0-a17d-dc0f5f2a38ed" class="image" style="text-align:left"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.26.22.png"><img style="width:528px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.26.22.png"/></a></figure><ol type="1" id="acf4de23-c7b4-478e-9f48-87c6740fa2b4" class="numbered-list" start="3"><li><strong>execle(const char *yol, const char *arg, …, char *const ortam[]):</strong> Gönderilen ortam değişkenlerini kullanarak komutu bulur ve yürütür.</li></ol><p id="109da5a7-18f6-80cb-8943-c1f812f03eaf" class="">ls -al komutunu çalıştırır</p><figure id="109da5a7-18f6-8073-a34e-f7c2664b3791" class="image" style="text-align:left"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.28.11.png"><img style="width:528px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.28.11.png"/></a></figure><ol type="1" id="109da5a7-18f6-805a-a271-ffac743b25f3" class="numbered-list" start="4"><li><strong>execv(const char *yol, char *const argv[]):</strong> Fonksiyona girilen parametre dizisini tam yolda veya aynı dizinde arar.</li></ol><p id="109da5a7-18f6-80d4-b793-f327f3e12987" class="">ls -l komutunu çalıştırır</p><figure id="016dd098-389a-4269-9eb9-f5e2b2dbe822" class="image" style="text-align:left"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.30.44.png"><img style="width:576px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.30.44.png"/></a></figure><ol type="1" id="109da5a7-18f6-80f3-8f65-c1099870e5c1" class="numbered-list" start="5"><li><strong>execvp(const char *yol, char *const argv[]):</strong> PATH otam değişkeninin kullanarak girilen parametre dizisini bulur ve yürütür</li></ol><p id="a568307c-e8aa-4e93-8c78-97336bc59084" class="">ls -l komutunu çalıştırır</p><figure id="109da5a7-18f6-80fb-92be-cc386a0d366c" class="image" style="text-align:left"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.40.37.png"><img style="width:576px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.40.37.png"/></a></figure><ol type="1" id="109da5a7-18f6-8079-b8b2-edc796fa405e" class="numbered-list" start="6"><li><strong>execve(const char </strong><em><strong>yol, char *const argv[], char *const ortam[]</strong></em><strong>): </strong>Parametre dizisini ortam değişkenlerini kullanarak bulur ve yürütür.</li></ol><p id="109da5a7-18f6-802f-a87b-dd42c8a67b14" class="">mkdir komutunu çalıştırıp deneme adında bir klasör oluşturur</p><figure id="109da5a7-18f6-80f8-be14-d0d727bcd7ec" class="image" style="text-align:left"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_17.42.39.png"><img style="width:624px" src="sistem-cagrilari/Screenshot_2024-09-17_at_17.42.39.png"/></a></figure><p id="109da5a7-18f6-80c4-b229-c3d346ea9246" class="">Not: İpliklerde execute(yürütme) işlemi pthread_create() sistem çağrısında iplik oluşturulurken gerçekleşir.</p><h2 id="109da5a7-18f6-8013-84f3-f12a250f47dc" class="">Kontrol Grubu Sistem Çağrıları</h2><p id="109da5a7-18f6-80ec-90e2-e2d196215087" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı:</strong></mark><strong> brk(void *veri_bolum_bitisi)    |   setsid()</strong></p><p id="109da5a7-18f6-80c5-9480-d8628eb7a668" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları:</strong></mark><strong> &lt;unistd.h&gt;</strong></p><p id="109da5a7-18f6-8033-8a6b-fc3fddd5e896" class="">Proseslerin bellekleri 3 kısımdan oluşur. İlk kısım program kodunun olduğu<span style="border-bottom:0.05em solid"> kod kesimi</span> ikinci kısım verilerin ve değişkenlerin yer aldığı <span style="border-bottom:0.05em solid">veri kesimi</span>, sonuncusu da yığının yer aldığı <span style="border-bottom:0.05em solid">yığın kesimi</span>dir.</p><p id="109da5a7-18f6-8030-bcc5-e9ca06c5812c" class="">Veri kısmı aşağıya, yığın kısmı ise yukarıya doğru genişler. Yığın boş alana doğru otomatik olarak genişler. Ancak veri bölümünün genişlemesi brk(void *veri_bolum_bitisi) ile sağlanır. Bu sistem çağrısı veri bölümünün sonlanacağı yeni adresi tanımlar. Bu değer o anki değerden az veya çok olabilir böylece veri bölümü genişler veya daralır.</p><p id="109da5a7-18f6-8043-9a87-f3773377852a" class="">Veri ve yığın bölümlerinin üst üste binmesini önlemek için veri_bolumu_bitisi parametresi yığın işaretçisinden küçük olmalıdır.</p><p id="109da5a7-18f6-80e8-8dbe-fff3d9c1f426" class="">
</p><h2 id="951a16a0-c9da-46ca-94f0-ea69fc17542e" class="">Bilgi Alma Çağrıları</h2><p id="109da5a7-18f6-8074-b6f0-d0eec791ec9a" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı: </strong></mark><mark class="highlight-default"><strong>getpid(), getppid(), getuid() → process |  syscall(SYS_gettid)→ thread</strong></mark></p><p id="109da5a7-18f6-8064-9cc2-ea5738ee7f83" class=""><mark class="highlight-teal"><strong>Başlık Dosyaları: </strong></mark><mark class="highlight-default"><strong>&lt;unistd.h&gt; &lt;sys/types.h&gt;                        |      &lt;sys/syscall.h&gt;</strong></mark></p><p id="109da5a7-18f6-80d1-b74c-ef3bb722f0e5" class="">getpid() çağıranan PID değeriyle geri dönen sistem çağrısıdır. fork() ile ana process çocuk procesin PID’si gitmektedir. Ancak çocuk processte kendi PID’sini görmek isterse getpid() çağrısı kullanmalıdır. getppid()(parent PID) çağrısı anne processin PID’sini geri döndürmektedir.</p><p id="d38c86ca-7639-45a8-922b-deef6b35f8a9" class="">getuid() çağrısı ise processin sahibinin kullanıcı tanımlayıcı (UID) değerinin alınmasını sağlar.<div class="indented"><p id="efcda88a-167c-4892-a78b-c603eb5eb334" class="">kendi processinin PID’sini ve UID’sini parentının PID’sini ekrana yazdırır</p><figure id="f2f1c563-6c9b-47b8-b289-8388a6b98dd7" class="image"><a href="#"><img style="width:528px" src="#"/></a></figure></div></p><p id="109da5a7-18f6-805e-af91-e0adaa09964c" class=""><div class="indented"><p id="53ca7583-3daa-4278-a227-071b5c67ea5d" class="">Kendi ID’sini ekrana yazdıran bir thread ve bu threadi oluşturup bekleyen ana program.</p><figure id="ca36e9b8-aab0-4484-9059-298311d99950" class="image"><a href="sistem-cagrilari/Screenshot_2024-09-17_at_18.47.20.png"><img style="width:480px" src="sistem-cagrilari/Screenshot_2024-09-17_at_18.47.20.png"/></a></figure></div></p><h2 id="109da5a7-18f6-80b1-a031-ff16adecbe4a" class="">Hata Ayıklama Çağrıları</h2><p id="109da5a7-18f6-8013-bae8-c20df5d4b69f" class=""><mark class="highlight-blue"><strong>Sistem Çağrısı: </strong></mark><mark class="highlight-default"><strong>ptrace(enum ptrace_request istek, pid_t pid, void *adres, void *veri)</strong></mark></p><p id="109da5a7-18f6-80e7-95ef-f646cc74d5fc" class=""><mark class="highlight-teal"><strong>Başlık Dosyası: </strong></mark><mark class="highlight-default"><strong>&lt;sys/ptrace.h&gt;</strong></mark></p><p id="109da5a7-18f6-8088-be4f-c02c5e98cadc" class="">Bu çağrılar hata ayıklama sırasında kontrol edilen procesin bellek yönetimi, okuma, yazma, kontrollü çalıştırılması gibi yönetimleri sağlar.</p><p id="7e16f6f2-199d-4179-9443-e2e7f0d06543" class="">
</p><h1 id="109da5a7-18f6-803e-972d-fe8aa5db5781" class="">Sinyal Çağrıları</h1><p id="109da5a7-18f6-8070-a562-cbdfd82c4e52" class="">Sinyaller gerek kontrol gerek müdahele amaçlı bir proses veya ipliğe kendisi, kullanıcı, başka bir proses ya da iplik tarafından gönderilebilecek işaretlerdir. </p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>